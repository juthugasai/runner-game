<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Darin</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="imagem/png" href="arts/icon/icon.png" />
    <link rel="stylesheet" type="text/css" media="screen" href="css/game.css" />

    <script src="js/characters/player.js"></script>
    <script src="js/characters/enemy.js"></script>
    <script src="js/scenario/scenario.js"></script>
    <script src="js/game/game.js"></script>

</head>
<body>
    
    <div id='game' class="parallax-scrolling">
        <div id="background" class="background"></div>
        <div id="backgroundParallax" class="backgroundParallax"></div>
        <div id="enemy" class="enemies"></div>
        <div id="player" class="player"></div>
        <div id="playerColisor" class="colisor"></div>
    </div>

    <audio id="colisionSong"><source src="js/game/audios/colisionSong.mp3" type="audio/mpeg"></audio>		
    <audio id="playerDie"><source src="js/game/audios/colisionSong.mp3" type="audio/mpeg"></audio>		
    <audio id="backgroundSong" autoplay="true"><source src="js/game/audios/backgroundSong.mp3" type="audio/mpeg"></audio>	
    
    <script>
        window.onload = function(){
         
            var game = new Game();
            game.setup(1);
            
            setInterval(function(){
                game.run();
            }, 10);
           
            setInterval(function(){
                game.incrementPercentageCreateEnemy();
                enemiesList = game.getEnemies();
                if(game.generateEnemy()){
                    game.setPercentageCreateEnemy(0);
                }
            }, 10);

            setInterval(function(){
                document.getElementById('backgroundSong').play();
                document.getElementById('backgroundSong').volume = 0.07;
            }, 0.015625);

            document.addEventListener('keydown', function(event) {
                playersList = game.getPlayers();
                
                if(event.keyCode == 32 && playersList[0].getCanJump()){
                    playersList[0].setCanJump(false);
                    playersList[0].setPlayerGifUp();
                    window.setTimeout('playersList[0].up(10)', 150);
                    window.setTimeout('playersList[0].up(10)', 200);
                    window.setTimeout('playersList[0].up(10)', 300);
                    window.setTimeout('playersList[0].up(10)', 400);
                    window.setTimeout('playersList[0].up(10)', 500);
                    window.setTimeout('playersList[0].up(10)', 600);
                    
                    window.setTimeout('playersList[0].down(10)', 1200);
                    window.setTimeout('playersList[0].down(10)', 1300);
                    window.setTimeout('playersList[0].down(10)', 1400);
                    window.setTimeout('playersList[0].down(10)', 1500);
                    window.setTimeout('playersList[0].down(10)', 1600);
                    window.setTimeout('playersList[0].down(10)', 1700);
                    
                    window.setTimeout('playersList[0].setPlayerGifBootom()', 1400);
                    window.setTimeout('playersList[0].setCanJump(true)', 1700);
                }
            });
        }
    </script>
</body>
</html>