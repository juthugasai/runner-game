<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Darin</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="imagem/png" href="arts/icon/icon.png" />
    <link rel="stylesheet" type="text/css" media="screen" href="css/game.css" />

    <script src="js/characters/player.js"></script>
    <script src="js/characters/enemy.js"></script>
    <script src="js/scenario/scenario.js"></script>
    <script src="js/game/game.js"></script>

</head>
<body>
    
    <div id='game' class="parallax-scrolling">
        <div id="background" class="background"></div>
        <div id="backgroundParallax" class="backgroundParallax"></div>
        <div id="enemy" class="enemies"></div>
        <div id="player" class="player"></div>
    </div>
    
    <script>
        window.onload = function(){
         
            var game = new Game();
            game.setup(1);
            
            setInterval(function(){
                game.run();
            }, 10);
           
            setInterval(function(){
                game.incrementPercentageCreateEnemy();
                enemiesList = game.getEnemies();
                if(game.generateEnemy()){
                    game.setPercentageCreateEnemy(0);
                }
            }, 10);

            document.addEventListener('keydown', function(event) {
                if(event.keyCode == 32){
                    playersList = game.getPlayers();
                    playersList[0].setPlayerGif('gatoPulando');
                    window.setTimeout('playersList[0].up(10)', 150);
                    window.setTimeout('playersList[0].up(10)', 200);
                    window.setTimeout('playersList[0].up(10)', 300);
                    window.setTimeout('playersList[0].up(10)', 400);
                    window.setTimeout('playersList[0].down(10)', 850);
                    window.setTimeout('playersList[0].down(10)', 900);
                    window.setTimeout('playersList[0].down(10)', 1000);
                    window.setTimeout('playersList[0].down(10)', 1100);
                    window.setTimeout('playersList[0].setPlayerGif("cat")', 1100);
                }
            });
        }
    </script>
</body>
</html>